## ES分布式原理

### ES为什么是分布式的搜索引擎

我们来看一张Elasticsearch的集群架构图就知道为什么说ES是分布式的搜索引擎了

<img src="http://img.jjjzzzqqq.top/6563032-cd20bbd6d4c5a400.png" alt="img" style="zoom:67%;" />

从这张架构图，我们可以知道，Elasticsearch支持**分片**，且支持**副本节点**，并且支持故障转移。

其实所有的分布式软件，集群架构都与ES类似，比如Redis Cluster，Kafka集群都类似，他们通过分片增加存储数据的上限，通过副本冗余数据，确保主节点发生故障时能进行故障转移

* 分片：将数据根据某种规则水平分布在不同节点上，增加了系统的存储上限，轻易就能存储PB级数据
* 副本：通过副本节点冗余副本数据，提供了容灾功能，主节点发生故障时，能立马将副本节点升级为主节点，保证系统高可用

